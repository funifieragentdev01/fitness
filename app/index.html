<!DOCTYPE html>
<html ng-app="fitness" lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1A2744">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>CoachFit AI ‚Äî Evolua no seu ritmo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>
<body>

    <!-- Terms Modal (global) -->
    <div class="modal-overlay" ng-show="showTerms" ng-click="closeTerms()">
        <div class="modal-content" ng-click="$event.stopPropagation()">
            <div class="modal-header">
                <h2>Termos de Uso</h2>
                <button class="btn-close" ng-click="closeTerms()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body terms-body">
                <h3>1. Aceita√ß√£o dos Termos</h3>
                <p>Ao utilizar o CoachFit AI, voc√™ concorda com estes termos de uso. O aplicativo √© destinado a maiores de 14 anos.</p>
                <h3>2. Descri√ß√£o do Servi√ßo</h3>
                <p>O CoachFit AI √© um aplicativo de acompanhamento nutricional e de treino que utiliza intelig√™ncia artificial para gerar planos personalizados. O servi√ßo N√ÉO substitui acompanhamento m√©dico ou nutricional profissional.</p>
                <h3>3. Dados Pessoais</h3>
                <p>Coletamos informa√ß√µes como peso, altura, idade, fotos corporais e h√°bitos alimentares para personalizar sua experi√™ncia. Seus dados s√£o armazenados de forma segura e n√£o s√£o compartilhados com terceiros sem seu consentimento, conforme a LGPD.</p>
                <h3>4. Fotos Corporais</h3>
                <p>As fotos corporais enviadas s√£o processadas por intelig√™ncia artificial para an√°lise visual. As imagens s√£o armazenadas localmente no seu dispositivo.</p>
                <h3>5. Limita√ß√£o de Responsabilidade</h3>
                <p>Os planos alimentares e de treino gerados pelo CoachFit AI s√£o sugest√µes baseadas em IA e n√£o constituem prescri√ß√£o m√©dica ou nutricional. Consulte um profissional de sa√∫de antes de iniciar qualquer programa.</p>
                <h3>6. Uso Adequado</h3>
                <p>Voc√™ se compromete a fornecer informa√ß√µes verdadeiras e a utilizar o aplicativo de forma respons√°vel.</p>
                <h3>7. Altera√ß√µes nos Termos</h3>
                <p>Reservamo-nos o direito de alterar estes termos a qualquer momento.</p>
                <p style="margin-top:20px;color:var(--text-muted);font-size:12px;">√öltima atualiza√ß√£o: Fevereiro de 2026</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary btn-block" ng-click="closeTerms()">Entendi ‚úÖ</button>
            </div>
        </div>
    </div>

    <!-- Body Analysis Modal (global) -->
    <div class="modal-overlay" ng-show="showBodyAnalysis" ng-click="closeBodyAnalysis()">
        <div class="modal-content modal-large" ng-click="$event.stopPropagation()">
            <div class="modal-header">
                <h2>üìä An√°lise Corporal</h2>
                <button class="btn-close" ng-click="closeBodyAnalysis()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div ng-if="bodyAnalysisLoading" class="loading-box">
                    <i class="fas fa-spinner fa-spin fa-2x"></i>
                    <p>Analisando com IA...</p>
                </div>
                <div ng-if="bodyAnalysisResult && !bodyAnalysisLoading" class="body-analysis-result">
                    <div ng-bind-html="formatAnalysis(bodyAnalysisResult)" class="analysis-formatted"></div>
                </div>
                <div ng-if="bodyAnalysisError && !bodyAnalysisLoading" class="alert alert-error">{{bodyAnalysisError}}</div>

                <div class="body-analysis-extras" ng-if="!bodyAnalysisLoading">
                    <div class="section-divider"><span>Dados adicionais</span></div>
                    <h3 class="extras-title">üìÑ Laudo de bioimped√¢ncia</h3>
                    <div class="photo-upload-area small" ng-click="triggerBioReport()">
                        <div class="photo-placeholder" ng-if="!bioReportPhoto">
                            <i class="fas fa-file-medical fa-2x"></i>
                            <p>Foto do laudo</p>
                        </div>
                        <img ng-if="bioReportPhoto" ng-src="{{bioReportPhoto}}" class="meal-preview">
                    </div>
                    <input type="file" id="bioReportInput" accept="image/*" style="display:none" onchange="angular.element(this).scope().onBioReport(this)">
                    <button class="btn btn-outline btn-block btn-sm" ng-if="bioReportPhoto" ng-click="analyzeBioReport()" ng-disabled="bodyAnalysisLoading">Analisar laudo üìã</button>

                    <h3 class="extras-title" style="margin-top:20px">üìè Medidas corporais</h3>
                    <div class="measures-grid">
                        <div class="measure-field"><label>Peso (kg)</label><input type="number" ng-model="manualMeasures.peso" placeholder="80" step="0.1"></div>
                        <div class="measure-field"><label>Altura (m)</label><input type="number" ng-model="manualMeasures.altura" placeholder="1.75" step="0.01"></div>
                    </div>
                    <button class="btn btn-outline btn-block btn-sm" ng-click="showExtraMeasures = !showExtraMeasures" style="margin-top:12px">
                        {{showExtraMeasures ? 'Ocultar medidas' : 'Adicionar mais medidas'}} ({{countMeasures()}} de 21) {{showExtraMeasures ? '‚ñ≤' : '‚ñº'}}
                    </button>
                    <div ng-if="showExtraMeasures" class="extra-measures">
                        <div class="chip-group" style="margin:12px 0">
                            <span class="chip" ng-class="{'active': measureCat.composicao}" ng-click="measureCat.composicao = !measureCat.composicao">üìä Composi√ß√£o</span>
                            <span class="chip" ng-class="{'active': measureCat.medidas}" ng-click="measureCat.medidas = !measureCat.medidas">üìè Medidas (cm)</span>
                            <span class="chip" ng-class="{'active': measureCat.dobras}" ng-click="measureCat.dobras = !measureCat.dobras">üìê Dobras cut√¢neas</span>
                        </div>
                        <div ng-if="measureCat.composicao" class="measure-category">
                            <h4>Composi√ß√£o Corporal</h4>
                            <div class="measures-grid">
                                <div class="measure-field"><label>% Gordura</label><input type="number" ng-model="manualMeasures.gordura_pct" placeholder="22" step="0.1"></div>
                                <div class="measure-field"><label>Peso gordo (kg)</label><input type="number" ng-model="manualMeasures.peso_gordo" step="0.1"></div>
                                <div class="measure-field"><label>Peso magro (kg)</label><input type="number" ng-model="manualMeasures.peso_magro" step="0.1"></div>
                                <div class="measure-field"><label>Massa musc. esq. (kg)</label><input type="number" ng-model="manualMeasures.massa_muscular" step="0.1"></div>
                            </div>
                        </div>
                        <div ng-if="measureCat.medidas" class="measure-category">
                            <h4>Medidas Corporais (cm)</h4>
                            <div class="measures-grid">
                                <div class="measure-field"><label>Cintura</label><input type="number" ng-model="manualMeasures.cintura" placeholder="85"></div>
                                <div class="measure-field"><label>Quadril</label><input type="number" ng-model="manualMeasures.quadril" placeholder="100"></div>
                                <div class="measure-field"><label>Deltoides</label><input type="number" ng-model="manualMeasures.deltoides"></div>
                                <div class="measure-field"><label>T√≥rax</label><input type="number" ng-model="manualMeasures.torax"></div>
                                <div class="measure-field"><label>Abd√¥men</label><input type="number" ng-model="manualMeasures.abdomen"></div>
                                <div class="measure-field"><label>Coxas</label><input type="number" ng-model="manualMeasures.coxas"></div>
                                <div class="measure-field"><label>Panturrilhas</label><input type="number" ng-model="manualMeasures.panturrilhas"></div>
                                <div class="measure-field"><label>Bra√ßo relaxado</label><input type="number" ng-model="manualMeasures.braco_relaxado"></div>
                                <div class="measure-field"><label>Bra√ßo contra√≠do</label><input type="number" ng-model="manualMeasures.braco_contraido"></div>
                            </div>
                        </div>
                        <div ng-if="measureCat.dobras" class="measure-category">
                            <h4>Dobras Cut√¢neas (mm)</h4>
                            <div class="measures-grid">
                                <div class="measure-field"><label>Subescapular</label><input type="number" ng-model="manualMeasures.dobra_subescapular" step="0.1"></div>
                                <div class="measure-field"><label>Tricipital</label><input type="number" ng-model="manualMeasures.dobra_tricipital" step="0.1"></div>
                                <div class="measure-field"><label>Tor√°cica</label><input type="number" ng-model="manualMeasures.dobra_toracica" step="0.1"></div>
                                <div class="measure-field"><label>Axilar</label><input type="number" ng-model="manualMeasures.dobra_axilar" step="0.1"></div>
                                <div class="measure-field"><label>Supra-il√≠aca</label><input type="number" ng-model="manualMeasures.dobra_suprailiaca" step="0.1"></div>
                                <div class="measure-field"><label>Abdominal</label><input type="number" ng-model="manualMeasures.dobra_abdominal" step="0.1"></div>
                                <div class="measure-field"><label>Coxas</label><input type="number" ng-model="manualMeasures.dobra_coxas" step="0.1"></div>
                                <div class="measure-field"><label>Panturrilhas</label><input type="number" ng-model="manualMeasures.dobra_panturrilhas" step="0.1"></div>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-block" ng-click="saveManualMeasures()" style="margin-top:16px">Salvar medidas üíæ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 90-Day Challenge Modal (global) -->
    <div class="modal-overlay" ng-show="showChallengeOffer" ng-click="closeChallengeOffer()">
        <div class="modal-content" ng-click="$event.stopPropagation()">
            <div class="modal-header">
                <h2>üèÜ Desafio 90 Dias</h2>
                <button class="btn-close" ng-click="closeChallengeOffer()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body" style="text-align:center">
                <div style="font-size:56px;margin-bottom:16px">üèÜ</div>
                <h3 style="font-size:20px;margin-bottom:8px">Transforma√ß√£o Real em 90 Dias</h3>
                <p style="color:var(--text-muted);margin-bottom:20px">Comprometa-se com 90 dias de evolu√ß√£o. Tire fotos no in√≠cio e no final, e veja sua transforma√ß√£o!</p>
                <div style="text-align:left;margin-bottom:24px">
                    <div class="challenge-benefit"><i class="fas fa-camera"></i> Foto antes e depois</div>
                    <div class="challenge-benefit"><i class="fas fa-chart-line"></i> Acompanhamento de progresso</div>
                    <div class="challenge-benefit"><i class="fas fa-trophy"></i> Badge exclusivo ao completar</div>
                    <div class="challenge-benefit"><i class="fas fa-star"></i> Publique seu resultado na Home</div>
                </div>
                <button class="btn btn-primary btn-block" ng-click="joinChallenge90()">Aceitar Desafio üí™</button>
            </div>
        </div>
    </div>

    <!-- Router View -->
    <div ng-view></div>

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.2/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-route/1.8.2/angular-route.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-sanitize/1.8.2/angular-sanitize.min.js"></script>

    <!-- Config -->
    <script src="config.js"></script>

    <!-- App Module -->
    <script src="app.js"></script>

    <!-- Services -->
    <script src="services/auth.js"></script>
    <script src="services/api.js"></script>
    <script src="services/ai.js"></script>

    <!-- Components -->
    <script src="components/bottom-nav/bottom-nav.js"></script>

    <!-- Pages -->
    <script src="pages/landing/landing.js"></script>
    <script src="pages/login/login.js"></script>
    <script src="pages/signup/signup.js"></script>
    <script src="pages/onboarding/onboarding.js"></script>
    <script src="pages/dashboard/dashboard.js"></script>
    <script src="pages/meal-plan/meal-plan.js"></script>
    <script src="pages/meal/meal.js"></script>
    <script src="pages/workout-plan/workout-plan.js"></script>
    <script src="pages/workout/workout.js"></script>
    <script src="pages/water/water.js"></script>
    <script src="pages/coach/coach.js"></script>
    <script src="pages/progress/progress.js"></script>
    <script src="pages/profile/profile.js"></script>
    <script src="pages/body-checkin/body-checkin.js"></script>
    <script src="pages/challenge90/challenge90.js"></script>
</body>
</html>
